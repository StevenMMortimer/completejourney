<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Complete Journey User Guide • completejourney</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Complete Journey User Guide">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">completejourney</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/completejourney.html">User Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bradleyboehmke/completejourney">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>The Complete Journey User Guide</h1>
                        <h4 class="author">Brad Boehmke</h4>
            
            <h4 class="date">2018-10-31</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bradleyboehmke/completejourney/blob/master/vignettes/completejourney.Rmd"><code>vignettes/completejourney.Rmd</code></a></small>
      <div class="hidden name"><code>completejourney.Rmd</code></div>

    </div>

    
    
<div id="the-complete-journey" class="section level2">
<h2 class="hasAnchor">
<a href="#the-complete-journey" class="anchor"></a>The Complete Journey</h2>
<p>This dataset contains household level transactions over two years from a group of 2,500 households who are frequent shoppers at a retailer. It contains all of each household’s purchases, not just those from a limited number of categories. For certain households, demographic information as well as direct marketing contact history are included.</p>
<p>Due to the number of tables and the overall complexity of The Complete Journey, it is suggested that this database be used in more advanced classroom settings. Further, The Complete Journey would be ideal for academic research as it should enable one to study the effects of direct marketing to customers.</p>
<p>The following are examples of questions that could be submitted to students or considered for academic research:</p>
<ul>
<li>How many customers are spending more over time? Less over time? Describe these customers.</li>
<li>Of those customers who are spending more over time, which categories are growing at a faster rate?</li>
<li>Of those customers who are spending less over time, with which categories are they becoming less engaged?</li>
<li>Which demographic factors (e.g. household size, presence of children, income) appear to affect customer spend? Engagement with certain categories?</li>
<li>Is there evidence to suggest that direct marketing improves overall engagement?</li>
</ul>
</div>
<div id="dataset-details" class="section level2">
<h2 class="hasAnchor">
<a href="#dataset-details" class="anchor"></a>Dataset Details</h2>
<p><img src="data_relationships.png" width="95%" height="95%"></p>
<div id="demographics" class="section level3">
<h3 class="hasAnchor">
<a href="#demographics" class="anchor"></a><code>demographics</code>
</h3>
<p>This table contains demographic information for a portion of households. Due to nature of the data, the demographic information is not available for all households.</p>
<table class="table">
<thead><tr class="header">
<th>Variable</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>household_id</code></td>
<td>Uniquely identifies each household</td>
</tr>
<tr class="even">
<td><code>age_desc</code></td>
<td>Estimated age range</td>
</tr>
<tr class="odd">
<td><code>marital_status_code</code></td>
<td>Marital status (A - married, B - single, U - unknown)</td>
</tr>
<tr class="even">
<td><code>income_desc</code></td>
<td>Household income</td>
</tr>
<tr class="odd">
<td><code>homeowner_desc</code></td>
<td>Homeowner, renter, etc.</td>
</tr>
<tr class="even">
<td><code>hh_comp_desc</code></td>
<td>Household composition</td>
</tr>
<tr class="odd">
<td><code>household_size_desc</code></td>
<td>Size of household up to 5+</td>
</tr>
<tr class="even">
<td><code>kid_category_desc</code></td>
<td>Number of children present up to 3+</td>
</tr>
</tbody>
</table>
</div>
<div id="transactions" class="section level3">
<h3 class="hasAnchor">
<a href="#transactions" class="anchor"></a><code>transactions</code>
</h3>
<p>Contains transaction-level product purchases by households (what you would normally see on a receipt).</p>
<table class="table">
<colgroup>
<col width="22%">
<col width="77%">
</colgroup>
<thead><tr class="header">
<th>Variable</th>
<th>Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>household_id</code></td>
<td>Uniquely identifies each household</td>
</tr>
<tr class="even">
<td><code>store_id</code></td>
<td>Uniquely identifies each store</td>
</tr>
<tr class="odd">
<td><code>basket_id</code></td>
<td>Uniquely identifies each purchase occasion</td>
</tr>
<tr class="even">
<td><code>product_id</code></td>
<td>Uniquely identifies each product</td>
</tr>
<tr class="odd">
<td><code>quantity</code></td>
<td>Number of the product purchased during the trip</td>
</tr>
<tr class="even">
<td><code>sales_value</code></td>
<td>Amount of dollars the retailer receives from sale</td>
</tr>
<tr class="odd">
<td><code>retail_disc</code></td>
<td>Discount applied due to the retailer’s loyalty card program</td>
</tr>
<tr class="even">
<td><code>coupon_disc</code></td>
<td>Discount applied due to a manufacturer coupon</td>
</tr>
<tr class="odd">
<td><code>coupon_match_disc</code></td>
<td>Discount applied due to retailer’s match of manufacturer coupon</td>
</tr>
<tr class="even">
<td><code>week_no</code></td>
<td>Week of the transaction; Ranges 1-102</td>
</tr>
<tr class="odd">
<td><code>day</code></td>
<td>Day when the transaction occurred</td>
</tr>
<tr class="even">
<td><code>trans_time</code></td>
<td>Time of day when the transaction occurred</td>
</tr>
</tbody>
</table>
<p>The variable <code>sales_value</code> in this table is the amount of dollars received by the retailer on the sale of the specific product, taking the coupon match and loyalty card discount into account. It is not the actual price paid by the customer. If a customer uses a coupon, the actual price paid will be less than the <code>sales_value</code> because the manufacturer issuing the coupon will reimburse the retailer for the amount of the coupon.</p>
<p>To calculate the actual product prices, use the formulas below: * Loyalty card price = (sales_value – (retail_disc + coupon_match_disc)) / quantity * Non-loyalty card price = (sales_value – (coupon_match_disc)) / quantity</p>
<p>The example below demonstrates how to calculate the actual shelf price of the product:</p>
<p><img src="example_transaction_data.png" width="95%" height="95%"></p>
<ul>
<li>Line 1 – When this product was purchased the <code>retail_disc</code> and <code>coupon_disc</code> were both zero, meaning the price of the product is the same as the amount received by the retailer.</li>
<li>Line 2 – Two items of this product were purchased, and there was a retail discount applied due to a loyalty card. To determine the regular shelf price of the product (exclusive of loyalty card discount) we take the sum of the amount paid and the discount, then divide it by the quantity. (<span class="math inline">\(\$2 + \$1.34) \div 2 = \$1.67\)</span>. The shelf price of the product including loyalty card discount is <span class="math inline">\(\$2 \div 2 = \$1\)</span>. Also, the customer paid $2 for both of these products which is the same amount the retailer received.</li>
<li>Line 3 – The actual shelf price of each product here is (<span class="math inline">\(\$2.89 + \$0.45) \div 2 = \$1.67\)</span>. Also, the customer paid $2.34 (<span class="math inline">\(\$2.89 - \$0.55\)</span>) for these products, but the retailer will receive $2.89 due to the manufacturer discount.</li>
</ul>
</div>
<div id="campaigns" class="section level3">
<h3 class="hasAnchor">
<a href="#campaigns" class="anchor"></a><code>campaigns</code>
</h3>
<p>Contains identifying information for the marketing campaigns each households participated in.</p>
<table class="table">
<thead><tr class="header">
<th>Variable</th>
<th>Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>household_id</code></td>
<td>Uniquely identifies each household</td>
</tr>
<tr class="even">
<td><code>campaign</code></td>
<td>Uniquely identifies each campaign; Ranges 1-30</td>
</tr>
<tr class="odd">
<td><code>description</code></td>
<td>Type of campaign (TypeA, TypeB, TypeC)</td>
</tr>
</tbody>
</table>
</div>
<div id="campaign_descriptions" class="section level3">
<h3 class="hasAnchor">
<a href="#campaign_descriptions" class="anchor"></a><code>campaign_descriptions</code>
</h3>
<p>Contains campaign metatdata, specifically the time a campaign was active.</p>
<table class="table">
<thead><tr class="header">
<th>Variable</th>
<th>Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>campaign</code></td>
<td>Uniquely identifies each campaign; Ranges 1-30</td>
</tr>
<tr class="even">
<td><code>description</code></td>
<td>Type of campaign (TypeA, TypeB, TypeC)</td>
</tr>
<tr class="odd">
<td><code>start_day</code></td>
<td>Start date of campaign</td>
</tr>
<tr class="even">
<td><code>end_day</code></td>
<td>End date of campaign</td>
</tr>
</tbody>
</table>
</div>
<div id="products" class="section level3">
<h3 class="hasAnchor">
<a href="#products" class="anchor"></a><code>products</code>
</h3>
<p>Contains metatdata regarding the products purchased (brand, description, etc.).</p>
<table class="table">
<colgroup>
<col width="22%">
<col width="77%">
</colgroup>
<thead><tr class="header">
<th>Variable</th>
<th>Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>product_id</code></td>
<td>Uniquely identifies each product</td>
</tr>
<tr class="even">
<td><code>manufacturer</code></td>
<td>Uniquely identifies each manufacturer</td>
</tr>
<tr class="odd">
<td><code>department</code></td>
<td>Groups similar products together</td>
</tr>
<tr class="even">
<td><code>brand</code></td>
<td>Indicates private or national label brand</td>
</tr>
<tr class="odd">
<td><code>commodity_desc</code></td>
<td>Groups similar products together at lower level</td>
</tr>
<tr class="even">
<td><code>sub_commodity_desc</code></td>
<td>Groups similar products together at lowest level</td>
</tr>
<tr class="odd">
<td><code>curr_size_of_product</code></td>
<td>Indicates package size (not available for all products)</td>
</tr>
</tbody>
</table>
</div>
<div id="coupons" class="section level3">
<h3 class="hasAnchor">
<a href="#coupons" class="anchor"></a><code>coupons</code>
</h3>
<p>This table lists all the coupons sent to customers as part of a campaign, as well as the products for which each coupon is redeemable. Some coupons are redeemable for multiple products. One example is a coupon for any private label frozen vegetable. There are a large number of products where this coupon could be redeemed.</p>
<p>For campaign TypeA, this table provides the pool of possible coupons. Each customer participating in a TypeA campaign received 16 coupons out of the pool. The 16 coupons were selected based on the customer’s prior purchase behavior. Identifying the specific 16 coupons that each customer received is outside the scope of this database.</p>
<p>For campaign TypeB and TypeC, all customers participating in a campaign receives all coupons pertaining to that campaign.</p>
<table class="table">
<colgroup>
<col width="22%">
<col width="77%">
</colgroup>
<thead><tr class="header">
<th>Variable</th>
<th>Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>coupon_upc</code></td>
<td>Uniquely identifies each coupon (unique to household and campaign)</td>
</tr>
<tr class="even">
<td><code>product_id</code></td>
<td>Uniquely identifies each product</td>
</tr>
<tr class="odd">
<td><code>campaign</code></td>
<td>Uniquely identifies each campaign</td>
</tr>
</tbody>
</table>
</div>
<div id="coupon_redemptions" class="section level3">
<h3 class="hasAnchor">
<a href="#coupon_redemptions" class="anchor"></a><code>coupon_redemptions</code>
</h3>
<p>Contains individual coupon redemptions (household, day, UPC code, campaign) that can be used to measure campaign efficacy and coupon usage on specific products.</p>
<table class="table">
<colgroup>
<col width="22%">
<col width="77%">
</colgroup>
<thead><tr class="header">
<th>Variable</th>
<th>Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>household_id</code></td>
<td>Uniquely identifies each household</td>
</tr>
<tr class="even">
<td><code>coupon_upc</code></td>
<td>Uniquely identifies each coupon (unique to household and campaign)</td>
</tr>
<tr class="odd">
<td><code>campaign</code></td>
<td>Uniquely identifies each campaign</td>
</tr>
<tr class="even">
<td><code>day</code></td>
<td>Day when transaction occurred</td>
</tr>
</tbody>
</table>
</div>
<div id="product_placements" class="section level3">
<h3 class="hasAnchor">
<a href="#product_placements" class="anchor"></a><code>product_placements</code>
</h3>
<p>Contains product placement information (e.g. mailer page placement and in-store display placement) corresponding to campaigns.</p>
<table class="table">
<colgroup>
<col width="22%">
<col width="77%">
</colgroup>
<thead><tr class="header">
<th>Variable</th>
<th>Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>product_id</code></td>
<td>Uniquely identifies each product</td>
</tr>
<tr class="even">
<td><code>store_id</code></td>
<td>Uniquely identifies each store</td>
</tr>
<tr class="odd">
<td><code>week_no</code></td>
<td>Week of the transaction; Ranges 1-102</td>
</tr>
<tr class="even">
<td><code>display</code></td>
<td>Display location (0-display, 1-store front, 2-store rear, 3-front end cap, 4-mid-aisle end cap, 5-rear end cap, 6-side aisle end cap, 7-in-aisle, 9-secondary location display, A-in-shelf)</td>
</tr>
<tr class="odd">
<td><code>mailer</code></td>
<td>Mailer location (0-not on ad, A-interior page feature, C-interior page line item, D-front page feature, F-back page feature, H-wrap front feature, J-wrap interior coupon, L-wrap back feature, P-interior page coupon, X-free on interior page, Z-free on front page, back page, or wrap)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="example-case-study" class="section level2">
<h2 class="hasAnchor">
<a href="#example-case-study" class="anchor"></a>Example Case Study</h2>
<p>John Smith is a valued customer at a national grocery retailer for which we have detailed transaction data. Throughout all the tables in the database, he is identified with a <code>household_id</code> of 208.</p>
<p>To learn a little about John, we can obtain his demographic information by looking at the record in the <code>demographics</code> table where <code>household_id = 208</code>. The table below shows the information we receive, and tells us that he is a homeowner, who makes between $50,000 and $74,000 a year and is between 45 and 54 years old.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(completejourney)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(bit64)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">demographics <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(household_id <span class="op">==</span><span class="st"> </span><span class="dv">208</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#&gt; # A tibble: 1 x 8</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt;   household_id age_desc marital_status_… income_desc homeowner_desc</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt;          &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;       &lt;chr&gt;         </span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; 1          208 45-54    U                50-74K      Homeowner     </span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt; # ... with 3 more variables: hh_comp_desc &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt; #   household_size_desc &lt;chr&gt;, kid_category_desc &lt;chr&gt;</span></a></code></pre></div>
<p>If we look at John’s records from <code>campaigns</code>, we can see that he received 8 different campaigns. Five of the campaigns were TypeA, and three were TypeB.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">campaigns <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(household_id <span class="op">==</span><span class="st"> </span><span class="dv">208</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; # A tibble: 8 x 3</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt;   household_id campaign description</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt;          &lt;int&gt;    &lt;int&gt; &lt;chr&gt;      </span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; 1          208       26 TypeA      </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; 2          208       30 TypeA      </span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; 3          208        8 TypeA      </span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt; 4          208       13 TypeA      </span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; 5          208       18 TypeA      </span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; 6          208       29 TypeB      </span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; 7          208       17 TypeB      </span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt; 8          208       22 TypeB</span></a></code></pre></div>
<p>These campaigns were spread out over the 2 year period of the study. To understand the time periods of these campaigns, look at the records in the <code>campaigns</code> table for the campaigns listed above for John.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">johns_campaigns &lt;-<span class="st"> </span>campaigns <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(household_id <span class="op">==</span><span class="st"> </span><span class="dv">208</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span>(description) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/pull.html">pull</a></span>()</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">campaign_descriptions <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(description <span class="op">%in%</span><span class="st"> </span>johns_campaigns)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; # A tibble: 24 x 4</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;    campaign description start_day end_day</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;       &lt;int&gt; &lt;chr&gt;           &lt;int&gt;   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  1       24 TypeB             659     719</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  2       25 TypeB             659     691</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  3       23 TypeB             646     684</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  4       21 TypeB             624     656</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;  5       22 TypeB             624     656</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;  6       18 TypeA             587     642</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt;  7       19 TypeB             603     635</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt;  8       17 TypeB             575     607</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt;  9       16 TypeB             561     593</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt; 10       13 TypeA             504     551</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; # ... with 14 more rows</span></a></code></pre></div>
<p>Let us take a closer look at campaign 22. When we look at all the distinct coupon_upc’s from the coupon table where campaign = 22, we see that there were 21 distinct coupons sent out as part of that campaign.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">coupons <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(campaign <span class="op">==</span><span class="st"> </span><span class="dv">22</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span>(coupon_upc)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; # A tibble: 21 x 1</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt;    coupon_upc     </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;    &lt;S3: integer64&gt;</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;  1 52100000031    </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;  2 54400021032    </span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt;  3 55100090033    </span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;  4 10000085486    </span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;  5 10000089316    </span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;  6 10000085487    </span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;  7 57797520075    </span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;  8 51450050050    </span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt;  9 52800031032    </span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; 10 54850010033    </span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; # ... with 11 more rows</span></a></code></pre></div>
<p>Let us take an even deeper look at one of the specific coupons offered as part of the campaign. If we print out all records from the coupon table where campaign = 22 and coupon_upc = 51800000050, we see that this coupon could actually be redeemed for a number of products.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#the-complete-journey">The Complete Journey</a></li>
      <li><a href="#dataset-details">Dataset Details</a></li>
      <li><a href="#example-case-study">Example Case Study</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Brad Boehmke, Steven Mortimer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
